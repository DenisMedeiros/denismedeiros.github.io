= DCA0445 - Processamento Digital de Imagens
Denis Medeiros <denis@dimap.ufrn.br>
:toc:
:toc-placement: left
:toc-title: Sumário
:stem:
:numbered:
:source-highlighter: pygments
:icons: font
:linkattrs:
:imagesdir: ./img
:iconsdir: ./icons
:stylesdir: ./css
:scriptsdir: ./js
:sourcedir: ./src


Esta página contém uma série de exercícios sobre processamento digital de imagens implementados em C++ com a biblioteca OpenCV.

== Manipulando pixels em uma imagem

O objetivo dessa lição é mostra como manipular os pixels de uma imagem, mudando a cor de uma pequena região retangular de uma imagem fornecida para processamento.


=== Exercício 1 
****
Utilizando o programa exemplos/pixels.cpp como referência, implemente um 
programa regions.cpp. Esse programa deverá solicitar ao usuário as coordenadas 
de dois pontos stem:[P_1] e stem:[P_2]  localizados dentro dos limites do 
tamanho da imagem e exibir que lhe for fornecida. Entretanto, a região definida 
pelo retângulo de vértices opostos definidos pelos pontos stem:[P_1] e 
stem:[P_2] será exibida com o negativo da imagem na região correspondente. 
O efeito é ilustrado na figura regiões (abaixo).

[[img-regioes]] 
.Figura regioes.png
image::regioes.png[Regiões, 200, 200] 
****

Para resolver o exercício acima, o seguinte programa foi resenvolvido.

+++ 
<details>
 <summary> regions.cpp </summary>
 <div> 
+++ 
[source,cpp,linenums]
----
include::{sourcedir}/regions.cpp[]
----
+++ 
 </div>
</details> 
+++

A estratégia adotada neste programa consiste em receber do usuário dois pontos,
criar um retângulo a partir deles e calcular o negativo deste retângulo. 

As primeiras linhas do programa (linha 21 à linha 61) consiste em validar os 
dados fornecidos pelo usuário (se os parâmetros são válidos, se os pontos estão 
dentro da figura etc.). Uma vez que os dois pontos são válidos, é criado um 
retângulo (linha 66) e, finalmente, é relizado uma iteração sob todos aqueles
pixels representados pelo retângulo dentro da própria matriz __image__ (linha 67
à linha 73), de modo que é calculado o negativo de cada pixel subtraindo seu 
valor de 255. Por fim, a imagem processada é exibida na tela.


****
.Exemplo de execução
* Comando: ./regions cachorro.png 20 20 200 200
* Foto de entrada: 

[[img-dog-gray]] 
.Figura cachorro.png original
image::cachorro.png[Regiões, 200, 200] 

* Foto de saída: 

[[img-dog-gray]] 
.Figura cachorro.png após processamento
image::cachorro-regioes.png[Regiões, 200, 200] 

****

=== Exercício 2


[stem]
++++
a^2 + b^2 = c^2
++++
